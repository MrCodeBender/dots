# ====== CONFIGURACIÓN BÁSICA ======

# Cambiar prefijo de Ctrl+b a Ctrl+a (más cómodo)
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Recarga rápida de configuración
bind r source-file ~/.tmux.conf \; display "¡Config recargada!"

# Habilita el mouse (scroll, click, resize)
set -g mouse on

# Inicia ventanas y paneles en 1, no en 0
set -g base-index 1
setw -g pane-base-index 1

# Renumera ventanas automáticamente
set -g renumber-windows on

# Aumenta el historial
set -g history-limit 10000


# ====== DIVIDIR PANELES ======

# Split vertical con | y horizontal con -
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# Nueva ventana en el directorio actual
bind c new-window -c "#{pane_current_path}"


# ====== NAVEGACIÓN ======

# Cambiar entre paneles con Alt+flechas (SIN PREFIJO)
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Cambiar entre ventanas con Shift+flechas (SIN PREFIJO)
bind -n S-Left previous-window
bind -n S-Right next-window

# Redimensionar paneles con Ctrl+flechas
bind -r C-Left resize-pane -L 5
bind -r C-Right resize-pane -R 5
bind -r C-Up resize-pane -U 5
bind -r C-Down resize-pane -D 5


# ====== VISUAL Y COLORES ======

# Soporte de true color
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"

# Barra de estado - usa colores del terminal (default) para integrarse con tu tema
set -g status-style bg=default,fg=default
set -g status-position bottom
set -g status-justify left

# Lado izquierdo: nombre de sesión con padding
set -g status-left-length 30
set -g status-left '#[bold] #S  #[nobold]│ '

# Lado derecho: fecha y hora con spacing
set -g status-right-length 40
set -g status-right ' │ %d/%m  %H:%M '

# Ventanas: separador y padding para legibilidad
set -g window-status-separator '  '
set -g window-status-format ' #I:#W '
set -g window-status-current-format '#[bold,underscore] #I:#W #[nobold,nounderscore]'

# Estilo de ventana activa vs inactiva
setw -g window-status-current-style fg=default,bold
setw -g window-status-style fg=colour245
setw -g window-status-activity-style fg=colour214

# Borde de paneles - colores sutiles del terminal
set -g pane-active-border-style fg=colour248
set -g pane-border-style fg=colour238


# ====== COPIAR/PEGAR (modo vi) ======

# Modo vi para copiar
setw -g mode-keys vi
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection-and-cancel


# ====== OTROS ======

# No esperar después de Esc
set -sg escape-time 0

# Notificaciones visuales
setw -g monitor-activity on
set -g visual-activity off
